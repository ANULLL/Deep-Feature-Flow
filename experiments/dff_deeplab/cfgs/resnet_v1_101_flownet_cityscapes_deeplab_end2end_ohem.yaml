---
MXNET_VERSION: "mxnet"
output_path: "./output/dff_deeplab/camvid"
symbol: resnet_v1_101_flownet_deeplab
gpus: '0'
SCALES:
- 720
- 960
default:
  frequent: 100
  kvstore: device
network:
  pretrained: "./model/rfcn_dff_flownet_vid"
  pretrained_flow: "./model/deeplab_dcn_camvid"
  pretrained_ec: "./model/trained/resnet-18*-0092" # "./model/trained/resnet-18u-0067"
  pretrained_epoch: 0
  PIXEL_MEANS:
  - 103.06
  - 115.90
  - 123.15
  IMAGE_STRIDE: 0
  FIXED_PARAMS:
  - conv1
  - bn_conv1
  - res2
  - bn2
  - gamma
  - beta
  # res-101
  - res3
  - bn3
  - res4
  - bn4
  - res5
  - bn5
  # task
  - fc6
  - score
  - upsampling
  # res-18 feat
  - 18_bn_data
  - 18_conv0
  - 18_bn0
  - 18_relu0
  - 18_stage1
  - 18_stage2
  - 18_stage3
  # res-18 task
  - 18_feat_upsampling
  - 18_fc6
  - 18_score
  - 18_upsampling
  # flow
  - ReLU
  - flow_conv1
  - conv2
  - conv3
  - conv4
  - conv5
  - conv6
  - Convolution
  - deconv
  - crop_deconv
  - upsample_flow
  - crop_upsampled
  - Concat
  FIXED_PARAMS_SHARED:
  - conv1
  - bn_conv1
  - res2
  - bn2
  - res3
  - bn3
  - res4
  - bn4
  - gamma
  - beta
dataset:
  NUM_CLASSES: 19
  dataset: CamVid
  dataset_path: "./data/CamVid"
  image_set: images_train
  root_path: "./data"
  test_image_set: images_val
TRAIN:
  warmup: true
  warmup_lr: 0.00005
  # typically we will use 4000 warmup step for single GPU
  warmup_step: 1000
  begin_epoch: 0
  end_epoch: 150
  lr: 0.0005
  lr_step: '150'
  model_prefix: "dff_deeplab_vid"
  # whether flip image
  FLIP: false
  # size of images for each device
  BATCH_IMAGES: 1
  # e2e changes behavior of anchor loader and metric
  END2END: true
  # wheter crop image during training
  ENABLE_CROP: True
  # scale of cropped image during training
  CROP_HEIGHT: 720
  CROP_WIDTH: 960
  # whether resume training
  RESUME: false
  # whether shuffle image
  SHUFFLE: true
TEST:
  # size of images for each device
  BATCH_IMAGES: 1
  test_epoch: 53
